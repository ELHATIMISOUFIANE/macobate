---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import CallToActionSection from "../components/CallToActionSection.astro";
import { MdEngineering } from "react-icons/md";
import { GiAbstract047 } from "react-icons/gi";
import { LuChartNoAxesCombined } from "react-icons/lu";
import { FaSearch , FaEnvelope } from "react-icons/fa";


// Career benefits data
const careerBenefits = [
  {
    id: "impact",
    icon: "MdEngineering",
    title: "Make an Impact With Your Engineering",
    description: "At MACOBATE, your work directly contributes to national and continental-scale projects:",
    items: [
      "Dams and hydropower plants",
      "Industrial facilities and pipelines",
      "Water treatment and steel structures"
    ],
    conclusion: "Each mission is an opportunity to leave a lasting mark on infrastructure development."
  },
  {
    id: "excellence",
    icon: "üèóÔ∏è",
    title: "Join a Culture of Engineering Excellence",
    description: "MACOBATE is an engineering-first company. We value:",
    items: [
      "Field experience combined with design expertise",
      "Interdisciplinary collaboration",
      "Execution based on technical excellence and international norms"
    ]
  },
  {
    id: "development",
    icon: "üìà",
    title: "Grow Your Skills & Your Future",
    description: "We offer real career growth through:",
    items: [
      "On-site learning and expert mentorship",
      "Opportunities to earn certifications (ISO, welding, CAD...)",
      "Evolution toward project leadership, technical specialization, or international assignments"
    ]
  },
  {
    id: "profiles",
    icon: "üîç",
    title: "What We're Looking For",
    items: [
      "Ambitious and curious young engineers (civil, mechanical, electrical, industrial)",
      "Field-oriented technicians and welders",
      "Professionals who want to learn, innovate, and build"
    ]
  }
];

// Job offers data
const jobOffers = [
  {
    id: "civil-engineer",
    title: "Civil Engineer",
    location: "Rabat, Morocco",
    type: "Full-time",
    summary: "We are looking for a civil engineer to join our team working on hydraulic infrastructure projects.",
    description: `
      <h4>Job Description</h4>
      <p>As a Civil Engineer, you will be responsible for the design, sizing and execution monitoring of dams and hydraulic structures. You will work closely with our multidisciplinary teams to ensure the quality and safety of our achievements.</p>
      
      <h4>Responsibilities</h4>
      <ul>
        <li>Perform technical studies and structural sizing calculations</li>
        <li>Develop plans and execution documents</li>
        <li>Ensure technical monitoring of construction sites and coordination with companies</li>
        <li>Participate in progress meetings and field visits</li>
        <li>Ensure compliance with standards and quality standards</li>
      </ul>
      
      <h4>Required Profile</h4>
      <ul>
        <li>Engineering degree in civil engineering (Master's level)</li>
        <li>3 to 5 years experience in hydraulic projects</li>
        <li>Mastery of calculation and modeling software (AutoCAD, Robot, etc.)</li>
        <li>Knowledge of construction standards</li>
        <li>Ability to work in teams and in the field</li>
        <li>Fluent French and Arabic, technical English appreciated</li>
      </ul>
      
      <h4>We Offer</h4>
      <ul>
        <li>A stimulating work environment on major projects</li>
        <li>Professional development opportunities</li>
        <li>A competitive salary package</li>
        <li>Continuous training and supervision by experts</li>
      </ul>
    `
  },
  {
    id: "welding-technician",
    title: "Welding Technician",
    location: "Casablanca, Morocco",
    type: "Full-time",
    summary: "Welding expert for our metal construction and industrial projects.",
    description: `
      <h4>Job Description</h4>
      <p>As a Welding Technician, you will be responsible for performing and controlling welds on different types of metals according to international standards. You will work on various projects ranging from metal structures to hydraulic equipment.</p>
      
      <h4>Responsibilities</h4>
      <ul>
        <li>Perform high-quality welds on different metals</li>
        <li>Control the quality of welded assemblies</li>
        <li>Prepare surfaces and parts to be welded</li>
        <li>Read and interpret technical drawings</li>
        <li>Respect safety and quality standards</li>
      </ul>
      
      <h4>Required Profile</h4>
      <ul>
        <li>Technical training in welding (vocational or technical degree)</li>
        <li>Minimum 3 years experience in industrial welding</li>
        <li>Mastery of TIG, MIG-MAG, and stick electrode processes</li>
        <li>Knowledge of ISO 9606, ASME or equivalent standards</li>
        <li>Rigor, precision and attention to detail</li>
        <li>Ability to work in a team</li>
      </ul>
      
      <h4>We Offer</h4>
      <ul>
        <li>A state-of-the-art workshop</li>
        <li>Diverse and stimulating projects</li>
        <li>Attractive salary according to experience</li>
        <li>Opportunities for advancement and certification</li>
      </ul>
    `
  },
];

// Employee testimonials data
const employeeTestimonials = [
  {
    name: "Karim Tazi",
    position: "Project Engineer",
    years: "3 years at MACOBATE",
    image: "/images/resource/author-11.jpg",
    quote: "Joining MACOBATE was a decisive decision in my career. The projects I work on have a real impact on the country's infrastructure, and I learn every day in contact with recognized experts in their field."
  },
  {
    name: "Fatima Zahra",
    position: "Project Manager",
    years: "7 years at MACOBATE",
    image: "/images/team/team-2.jpg",
    quote: "What I like about MACOBATE is the perfect balance between the autonomy we are given and the team support. I was able to develop advanced technical skills while evolving towards project management responsibilities."
  },
  {
    name: "Mehdi Benani",
    position: "Electromechanical Engineer",
    years: "5 years at MACOBATE",
    image: "/images/resource/author-13.jpg",
    quote: "Continuous training and mentorship are strong values at MACOBATE. I started as a technician and was able to evolve towards an engineering position thanks to the development opportunities the company offered me."
  }
];
---

<BaseLayout title="Careers | MACOBATE">
  <Header />
  <main>
    <!--Page Title-->
    <section
      class="page-title"
      style="background-image:url(/images/background/7.jpg)"
    >
      <div class="auto-container">
        <ul class="page-breadcrumb">
          <li><a href="/">Home</a></li>
          <li>Careers</li>
        </ul>
        <h1>Careers</h1>
      </div>
    </section>
    <!--End Page Title-->

    <!-- Career Intro Section -->
    <section class="career-intro-section">
      <div class="auto-container">
        <div class="sec-title centered">
          <h2>Engineer Your Future With Us</h2>
          <div class="separator"></div>
          <div class="text">
            MACOBATE is constantly looking for passionate talents to strengthen its teams. We offer you the opportunity to contribute to major projects that shape the future of infrastructure in Africa and beyond.
          </div>
        </div>
      </div>
    </section>
    <!-- End Career Intro Section -->

    <!-- Career Benefits Section -->
    <section class="career-benefits-section">
      <div class="auto-container">
        <div class="benefits-container">
          <!-- First row of cards (first 2) -->
          <div class="benefits-row">
            <div class="benefit-card">
              <div class="benefit-header">
                <span class="benefit-icon"><MdEngineering /></span>
                <h3 class="benefit-title">{careerBenefits[0].title}</h3>
                <div class="separator"></div>
              </div>
              <div class="benefit-content">
                {careerBenefits[0].description && <p>{careerBenefits[0].description}</p>}
                <ul class="list-style-two">
                  {careerBenefits[0].items.map(item => (
                    <li>{item}</li>
                  ))}
                </ul>
                {careerBenefits[0].conclusion && <p class="benefit-conclusion">{careerBenefits[0].conclusion}</p>}
              </div>
            </div>
            
            <div class="benefit-card">
              <div class="benefit-header">
                <span class="benefit-icon"><GiAbstract047/></span>
                <h3 class="benefit-title">{careerBenefits[1].title}</h3>
                <div class="separator"></div>
              </div>
              <div class="benefit-content">
                {careerBenefits[1].description && <p>{careerBenefits[1].description}</p>}
                <ul class="list-style-two">
                  {careerBenefits[1].items.map(item => (
                    <li>{item}</li>
                  ))}
                </ul>
                {careerBenefits[1].conclusion && <p class="benefit-conclusion">{careerBenefits[1].conclusion}</p>}
              </div>
            </div>
          </div>
          
          <!-- Second row of cards (last 2) -->
          <div class="benefits-row">
            <div class="benefit-card">
              <div class="benefit-header">
                <span class="benefit-icon"><LuChartNoAxesCombined/></span>
                <h3 class="benefit-title">{careerBenefits[2].title}</h3>
                <div class="separator"></div>
              </div>
              <div class="benefit-content">
                {careerBenefits[2].description && <p>{careerBenefits[2].description}</p>}
                <ul class="list-style-two">
                  {careerBenefits[2].items.map(item => (
                    <li>{item}</li>
                  ))}
                </ul>
                {careerBenefits[2].conclusion && <p class="benefit-conclusion">{careerBenefits[2].conclusion}</p>}
              </div>
            </div>
            
            <div class="benefit-card">
              <div class="benefit-header">
                <span class="benefit-icon"><FaSearch/></span>
                <h3 class="benefit-title">{careerBenefits[3].title}</h3>
                <div class="separator"></div>
              </div>
              <div class="benefit-content">
                {careerBenefits[3].description && <p>{careerBenefits[3].description}</p>}
                <ul class="list-style-two">
                  {careerBenefits[3].items.map(item => (
                    <li>{item}</li>
                  ))}
                </ul>
                {careerBenefits[3].conclusion && <p class="benefit-conclusion">{careerBenefits[3].conclusion}</p>}
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- End Career Benefits Section -->

    <!-- Application CTA Section -->
    <section class="application-cta-section">
      <div class="auto-container">
        <div class="application-cta-box">
          <div class="row clearfix">
            <div class="col-lg-8 col-md-12">
              <div class="sec-title light">
                <h2><FaEnvelope/>  How to Apply</h2>
                <div class="separator"></div>
              </div>
              <div class="text">
                <p>
                  Apply to online positions or send a spontaneous application to our dedicated recruitment email address.
                </p>
              </div>
            </div>
            <div class="col-lg-4 col-md-12">
              <div class="btn-box">
                <a href="mailto:careers@macobate.com" class="theme-btn btn-style-one">
                  careers@macobate.com
                  <span class="icon flaticon-arrow-pointing-to-right"></span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- End Application CTA Section -->

    <!-- Current Openings Section -->
    <section class="current-openings-section">
      <div class="auto-container">
        <div class="sec-title centered">
          <h2>Current Job Openings</h2>
          <div class="separator"></div>
        </div>
        
        <div class="job-listings">
          <!-- Dynamic generation of job offers -->
          {jobOffers.map(job => (
            <div class="job-block" id={`job-${job.id}`}>
              <div class="inner-box">
                <div class="content">
                  <h3>{job.title}</h3>
                  <div class="job-info">
                    <div class="info-item">
                      <span class="icon flaticon-pin"></span>
                      <span class="text">{job.location}</span>
                    </div>
                    <div class="info-item">
                      <span class="icon flaticon-clock"></span>
                      <span class="text">{job.type}</span>
                    </div>
                  </div>
                  <div class="text">
                    {job.summary}
                  </div>
                  <div class="btn-box">
                    <button type="button" class="theme-btn btn-style-three job-details-btn" data-job-id={job.id}>
                      View details
                      <span class="icon flaticon-arrow-pointing-to-right"></span>
                    </button>
                  </div>
                  
                  <!-- Details section (hidden by default) -->
                  <div class="job-details" id={`details-${job.id}`} style="display: none;">
                    <div class="separator" style="margin: 20px 0;"></div>
                    <div class="job-detail-content" set:html={job.description}></div>
                    <div class="apply-btn-box" style="margin-top: 30px;">
                      <a href={`mailto:careers@macobate.com?subject=Application for ${job.title} position`} class="theme-btn btn-style-one">
                        Apply now
                        <span class="icon flaticon-arrow-pointing-to-right"></span>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
        
        <!-- Spontaneous Application -->
        <div class="spontaneous-application">
          <div class="inner-box">
            <div class="sec-title centered">
              <h2>Spontaneous Application</h2>
              <div class="separator"></div>
            </div>
            <div class="text centered">
              <p>
                Can't find the position that suits you? Don't hesitate to send us your CV and cover letter. We are always looking for talent to strengthen our teams.
              </p>
            </div>
            <div class="btn-box text-center">
              <a href="mailto:careers@macobate.com?subject=Spontaneous application" class="theme-btn btn-style-one">
                Apply now
                <span class="icon flaticon-arrow-pointing-to-right"></span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- End Current Openings Section -->

    <!-- Employee Testimonials Section -->
    <section class="employee-testimonials-section" style="background-color: #f8f9fa;">
      <div class="auto-container">
        <div class="sec-title centered">
          <h2>What Our Employees Say</h2>
          <div class="separator"></div>
        </div>

        <div class="testimonials-carousel owl-carousel owl-theme">
          <!-- Dynamic generation of testimonials -->
          {employeeTestimonials.map(testimonial => (
            <div class="testimonial-block">
              <div class="inner-box">
                <div class="image-box">
                  <img src={testimonial.image} alt={testimonial.name} />
                </div>
                <div class="quote-icon">
                  <span class="icon flaticon-quote"></span>
                </div>
                <div class="text">
                  "{testimonial.quote}"
                </div>
                <div class="author-info">
                  <h4>{testimonial.name}</h4>
                  <div class="designation">{testimonial.position}, {testimonial.years}</div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
    <!-- End Employee Testimonials Section -->

    <!-- CTA Component -->
    <CallToActionSection />
  </main>
  <Footer />
</BaseLayout>

<style>
  /* Career Intro Section */
  .career-intro-section {
    position: relative;
    padding: 80px 0 40px;
  }

  /* Career Benefits Section */
  .career-benefits-section {
    position: relative;
    padding: 0 0 80px;
  }

  .benefits-container {
    display: flex;
    flex-direction: column;
    gap: 30px;
  }

  .benefits-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
  }

  .benefit-card {
    background: #ffffff;
    border-radius: 8px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
    padding: 30px;
    transition: all 0.3s ease;
    border-top: 4px solid #1720d7;
    height: 100%;
    display: flex;
    flex-direction: column;
  }
  
  .benefit-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
  }

  .benefit-header {
    margin-bottom: 20px;
  }

  .benefit-icon {
    font-size: 36px;
    margin-right: 10px;
    display: block;
    margin-bottom: 15px;
  }

  .benefit-title {
    font-size: 24px;
    font-weight: 600;
    color: #333;
    margin-bottom: 15px;
  }

  .benefit-content {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }

  .benefit-content p {
    font-size: 16px;
    line-height: 1.8;
    color: #666;
    margin-bottom: 15px;
  }

  .list-style-two {
    position: relative;
    margin-bottom: 25px;
    padding-left: 0;
    list-style: none;
  }

  .list-style-two li {
    position: relative;
    padding-left: 25px;
    margin-bottom: 12px;
    font-size: 15px;
    color: #666;
  }

  .list-style-two li:before {
    content: "\f00c";
    font-family: "FontAwesome";
    position: absolute;
    left: 0;
    top: 0;
    color: #1720d7;
  }

  .benefit-conclusion {
    font-style: italic;
    color: #555;
    border-left: 3px solid #1720d7;
    padding-left: 15px;
    margin-top: auto;
  }
  
  /* Responsive for benefit cards */
  @media only screen and (max-width: 991px) {
    .benefits-row {
      grid-template-columns: 1fr;
    }
  }

  /* Application CTA Section */
  .application-cta-section {
    position: relative;
    padding: 0 0 80px;
  }

  .application-cta-box {
    position: relative;
    background-color: #1720d7;
    border-radius: 8px;
    padding: 50px;
    overflow: hidden;
  }

  .application-cta-box:before {
    content: '';
    position: absolute;
    right: 0;
    top: 0;
    height: 100%;
    width: 30%;
    background: url(/images/background/pattern-1.png) right center no-repeat;
    background-size: cover;
    opacity: 0.1;
  }

  .sec-title.light h2 {
    color: #fff;
  }

  .sec-title.light .separator:after {
    background-color: #fff;
  }

  .application-cta-box .text {
    color: #fff;
    font-size: 16px;
    line-height: 1.8;
    margin-bottom: 0;
  }

  .application-cta-box .btn-box {
    position: relative;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    height: 100%;
  }

  /* Current Openings Section */
  .current-openings-section {
    position: relative;
    padding: 80px 0;
  }

  .job-listings {
    position: relative;
    margin-top: 50px;
  }

  .job-block {
    position: relative;
    margin-bottom: 30px;
  }

  .job-block .inner-box {
    position: relative;
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
    overflow: hidden;
    border-left: 5px solid #1720d7;
  }

  .job-block .inner-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
  }

  .job-block .content {
    position: relative;
    padding: 30px;
  }

  .job-block h3 {
    position: relative;
    font-size: 22px;
    font-weight: 600;
    margin-bottom: 12px;
    color: #333;
  }

  .job-block .job-info {
    position: relative;
    display: flex;
    margin-bottom: 15px;
  }

  .job-block .info-item {
    position: relative;
    display: flex;
    align-items: center;
    margin-right: 30px;
  }

  .job-block .info-item .icon {
    position: relative;
    font-size: 16px;
    line-height: 1;
    margin-right: 8px;
    color: #1720d7;
  }

  .job-block .info-item .text {
    font-size: 14px;
    color: #777;
  }

  .job-block .text {
    position: relative;
    font-size: 15px;
    line-height: 1.8;
    color: #666;
    margin-bottom: 20px;
  }

  .job-block .btn-box {
    position: relative;
  }

  .job-block .job-details {
    position: relative;
    margin-top: 20px;
    border-top: 1px solid #eee;
  }

  .job-block .job-detail-content {
    position: relative;
  }

  .job-block .job-detail-content h4 {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 15px;
    color: #333;
    margin-top: 25px;
  }

  .job-block .job-detail-content h4:first-child {
    margin-top: 0;
  }

  .job-block .job-detail-content p {
    font-size: 15px;
    line-height: 1.8;
    color: #666;
    margin-bottom: 15px;
  }

  .job-block .job-detail-content ul {
    margin-bottom: 20px;
  }

  .job-block .job-detail-content ul li {
    position: relative;
    padding-left: 20px;
    margin-bottom: 10px;
    font-size: 15px;
    color: #666;
  }

  .job-block .job-detail-content ul li:before {
    content: "‚Ä¢";
    position: absolute;
    left: 0;
    top: 0;
    color: #1720d7;
    font-size: 16px;
  }

  /* Buttons */
  .theme-btn.btn-style-three {
    position: relative;
    display: inline-block;
    font-size: 15px;
    line-height: 30px;
    color: #1720d7;
    padding: 5px 20px;
    font-weight: 600;
    overflow: hidden;
    border-radius: 4px;
    background-color: #ffffff;
    border: 1px solid #1720d7;
    text-transform: capitalize;
    transition: all 0.3s ease;
    cursor: pointer;
  }

  .theme-btn.btn-style-three:hover {
    background-color: #1720d7;
    color: #ffffff;
  }

  .job-details-btn {
    display: inline-flex;
    align-items: center;
  }

  .job-details-btn .icon {
    margin-left: 5px;
    transition: transform 0.3s ease;
  }

  .job-details-btn:hover .icon {
    transform: translateX(3px);
  }

  /* Spontaneous Application */
  .spontaneous-application {
    position: relative;
    margin-top: 50px;
    padding: 50px 30px;
    background-color: #f8f9fa;
    border-radius: 8px;
    border: 1px dashed #ddd;
  }

  .spontaneous-application .text {
    max-width: 800px;
    margin: 0 auto 30px;
  }

  .text.centered {
    text-align: center;
  }

  /* Employee Testimonials Section */
  .employee-testimonials-section {
    position: relative;
    padding: 80px 0;
  }

  .testimonial-block {
    position: relative;
    margin-bottom: 30px;
  }

  .testimonial-block .inner-box {
    position: relative;
    background-color: #fff;
    border-radius: 8px;
    padding: 30px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
    height: 100%;
  }

  .testimonial-block .inner-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
  }

  .testimonial-block .image-box {
    position: relative;
    width: 70px;
    height: 70px;
    border-radius: 50%;
    overflow: hidden;
    margin-bottom: 20px;
    border: 3px solid #1720d7;
  }

  .testimonial-block .image-box img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .testimonial-block .quote-icon {
    position: absolute;
    right: 30px;
    top: 30px;
  }

  .testimonial-block .quote-icon .icon {
    font-size: 30px;
    color: #1720d7;
    opacity: 0.2;
  }

  .testimonial-block .text {
    position: relative;
    font-size: 16px;
    line-height: 1.8;
    color: #666;
    margin-bottom: 20px;
    min-height: 115px;
  }

  .testimonial-block .author-info {
    position: relative;
    padding-top: 15px;
    border-top: 1px solid #e9ecef;
  }

  .testimonial-block .author-info h4 {
    position: relative;
    font-size: 18px;
    font-weight: 600;
    color: #333;
    margin-bottom: 5px;
  }

  .testimonial-block .author-info .designation {
    position: relative;
    font-size: 14px;
    color: #1720d7;
  }

  /* Animation for job details */
  .job-details {
    overflow: hidden;
    transition: max-height 0.5s ease;
  }

  /* Responsive Styles */
  @media only screen and (max-width: 991px) {
    .application-cta-box {
      padding: 40px 30px;
    }

    .application-cta-box .btn-box {
      justify-content: flex-start;
      margin-top: 20px;
    }

    .testimonial-block .text {
      min-height: auto;
    }
  }

  @media only screen and (max-width: 767px) {
    .application-cta-box {
      padding: 30px 20px;
    }

    .application-cta-box:before {
      display: none;
    }

    .job-block .content {
      padding: 20px;
    }

    .job-block .job-info {
      flex-direction: column;
    }

    .job-block .info-item {
      margin-right: 0;
      margin-bottom: 10px;
    }

    .spontaneous-application {
      padding: 30px 20px;
    }
  }
</style>

<script is:inline>
  // Function to initialize job detail buttons
  document.addEventListener('DOMContentLoaded', function() {
    // Select all job detail buttons
    const jobDetailButtons = document.querySelectorAll('.job-details-btn');
    
    // Add event listener to each button
    jobDetailButtons.forEach(button => {
      button.addEventListener('click', function() {
        // Get job ID
        const jobId = this.getAttribute('data-job-id');
        // Select corresponding details section
        const detailsSection = document.getElementById(`details-${jobId}`);
        
        // If section is hidden, show it
        if (detailsSection.style.display === 'none') {
          // First close all open sections
          document.querySelectorAll('.job-details').forEach(section => {
            section.style.display = 'none';
          });
          
          // Reset text of all buttons
          document.querySelectorAll('.job-details-btn').forEach(btn => {
            btn.innerHTML = 'View details <span class="icon flaticon-arrow-pointing-to-right"></span>';
          });
          
          // Then open the one we want to see
          detailsSection.style.display = 'block';
          
          // Change button text
          this.innerHTML = 'Hide details <span class="icon flaticon-arrow-pointing-to-right"></span>';
          
          // Scroll to details section
          setTimeout(() => {
            detailsSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }, 100);
        } else {
          // If section is visible, hide it
          detailsSection.style.display = 'none';
          
          // Reset button text
          this.innerHTML = 'View details <span class="icon flaticon-arrow-pointing-to-right"></span>';
        }
      });
    });
    
    // Initialize carousel for testimonials (if Owl Carousel is available)
    if (typeof jQuery !== 'undefined' && typeof jQuery.fn.owlCarousel !== 'undefined') {
      jQuery('.testimonials-carousel').owlCarousel({
        loop: true,
        margin: 30,
        nav: true,
        smartSpeed: 500,
        autoplay: true,
        navText: ['<span class="fa fa-angle-left"></span>', '<span class="fa fa-angle-right"></span>'],
        responsive: {
          0: {
            items: 1
          },
          600: {
            items: 1
          },
          768: {
            items: 2
          },
          1024: {
            items: 3
          }
        }
      });
    }
  });
</script>