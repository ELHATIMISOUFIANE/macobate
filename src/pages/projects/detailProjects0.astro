---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import AppointmentForm from "../../components/AppointmentForm.astro";
import CallToActionSection from "../../components/CallToActionSection.astro";

const projects = [
  {
    id: "barrages-amenagements-hydrauliques",
    title: "Barrages & Aménagements Hydrauliques",
    category: "Infrastructure Hydraulique",
    description: `
      <p>MACOBATE est l'un des principaux acteurs dans le domaine de l'ingénierie hydraulique au Maroc. Notre expertise couvre la conception, la fabrication et l'installation d'équipements hydromécaniques pour les barrages, les centrales hydroélectriques et les infrastructures hydrauliques.</p>
      
      <h3>Notre expertise inclut :</h3>
      <ul>
        <li><strong>Vannes de tous types</strong> : segments, murales, papillon</li>
        <li><strong>Conduites forcées</strong> et revêtements en acier</li>
        <li><strong>Grilles de prise d'eau et dégrilleurs</strong></li>
        <li><strong>Systèmes de levage et contrôle</strong></li>
      </ul>
      
      <h3>Projets phares réalisés :</h3>
      <ol>
        <li><strong>Barrage Oued El Makhazine</strong> : Équipements hydromécaniques complets pour l'évacuateur de crues</li>
        <li><strong>Barrage Al Massira</strong> : Rénovation des vannes segment et systèmes de contrôle</li>
        <li><strong>Barrage Lalla Takerkoust</strong> : Installation de conduites forcées et bifurcations</li>
        <li><strong>Barrage Sidi Mohamed Ben Abdellah</strong> : Vannes et équipements de régulation</li>
      </ol>
      
      <p>Chaque projet est réalisé selon les plus hauts standards de qualité, avec des tests rigoureux et une attention particulière à la durabilité dans des conditions d'exploitation exigeantes. Nous assurons également la maintenance et la réhabilitation des équipements existants pour prolonger leur durée de vie.</p>
    `,
    image: "/images/projects/barrages-hydrauliques.jpg",
    gallery: [
      "/images/projects/barrages-hydrauliques.jpg",
      "/images/gallery/20.jpg",
      "/images/gallery/21.jpg",
      "/images/gallery/14.jpg"
    ],
    features: [
      "Plus de 30 barrages équipés au Maroc",
      "Expertise complète du composant au système intégré",
      "Capacité d'intervention dans des conditions difficiles",
      "Solutions sur mesure pour chaque projet",
      "Maintenance préventive et réhabilitation",
    ],
    technicalSpecs: {
      "Capacité maximale": "150 millions m³",
      "Hauteur d'équipement": "78 mètres",
      "Débit d'équipement": "2500 m³/s",
      "Standards": "ISO 9001, EN 1090"
    },
    client: "Ministère de l'Équipement et de l'Eau, ONEE",
    location: "Plusieurs régions du Maroc",
    year: "1980-présent",
    duration: "En continu",
    status: "Actif"
  },
  {
    id: "stations-pompage-traitement",
    title: "Stations de Pompage & Traitement",
    category: "Traitement d'Eau",
    description: `
      <p>MACOBATE conçoit et réalise des stations de pompage et de traitement d'eau complètes, depuis les études jusqu'à la mise en service. Notre approche intégrée combine expertise mécanique, hydraulique, électrique et automatisme pour livrer des solutions performantes et durables.</p>
      
      <h3>Nos réalisations comprennent :</h3>
      <ul>
        <li><strong>Stations de pompage d'eau potable</strong> de petite à grande capacité</li>
        <li><strong>Stations de traitement d'eau conventionnelles</strong> et modulaires</li>
        <li><strong>Stations d'épuration des eaux usées</strong></li>
        <li><strong>Stations de dessalement</strong> à osmose inverse</li>
      </ul>
      
      <h3>Projets de référence :</h3>
      <ol>
        <li><strong>Station de pompage SP2 - Agadir</strong> : Conception et réalisation d'une station de pompage d'eau potable de 1000 l/s avec équipements électromécaniques complets</li>
        <li><strong>Station de traitement Bouskoura</strong> : Installation d'une station modulaire MWS pour eau potable de 100 l/s</li>
        <li><strong>Station de pompage Skhirat-Témara</strong> : Équipements hydromécaniques et électriques pour station de 500 l/s</li>
        <li><strong>Station d'épuration El Jadida</strong> : Fourniture et installation des équipements mécaniques et électriques</li>
      </ol>
      
      <p>Nos stations se distinguent par leur fiabilité, leur efficacité énergétique et leur facilité d'exploitation. Nous intégrons des technologies avancées d'automatisation et de contrôle à distance, permettant une supervision optimale et une maintenance préventive.</p>
    `,
    image: "/images/projects/stations-pompage-traitement.jpg",
    gallery: [
      "/images/projects/stations-pompage-traitement.jpg",
      "/images/gallery/19.jpg",
      "/images/resource/service-traitement-eau.jpg",
      "/images/gallery/14.jpg"
    ],
    features: [
      "Conception hydraulique optimisée",
      "Fabrication locale des équipements mécaniques",
      "Solutions clé en main jusqu'à la mise en service",
      "Systèmes de contrôle intelligents",
      "Efficacité énergétique et durabilité",
    ],
    technicalSpecs: {
      "Capacité de traitement": "50 000 m³/jour",
      "Débit de pompage": "2 000 m³/h",
      "Rendement énergétique": "95%",
      "Technologie": "MWS, SCADA"
    },
    client: "ONEE, Régies Autonomes, Collectivités Territoriales",
    location: "National & International",
    year: "1990-présent",
    duration: "Variable selon projet",
    status: "En exploitation"
  },
  {
    id: "infrastructures-industrielles",
    title: "Infrastructures Industrielles",
    category: "Industrie",
    description: `
      <p>MACOBATE développe des projets industriels complexes pour divers secteurs stratégiques. Notre expertise en construction métallique, équipements sous pression et intégration de process nous permet de réaliser des infrastructures industrielles complètes et performantes.</p>
      
      <h3>Notre offre couvre :</h3>
      <ul>
        <li><strong>Bâtiments industriels</strong> et structures métalliques</li>
        <li><strong>Réservoirs et silos</strong> de stockage</li>
        <li><strong>Unités de process</strong> et équipements spéciaux</li>
        <li><strong>Tuyauteries industrielles</strong> et réseaux complexes</li>
      </ul>
      
      <h3>Réalisations majeures :</h3>
      <ol>
        <li><strong>Usine de phosphates Jorf Lasfar</strong> : Construction de charpentes métalliques, racks de tuyauterie et équipements de process</li>
        <li><strong>Terminal portuaire Tanger Med</strong> : Structures métalliques et réservoirs de stockage</li>
        <li><strong>Unité de dessalement Agadir</strong> : Fabrication et installation de réservoirs sous pression et systèmes de tuyauterie</li>
        <li><strong>Cimenterie Settat</strong> : Silos métalliques et structures de convoyage</li>
      </ol>
      
      <p>Notre engagement pour la qualité et la sécurité est au cœur de chaque projet. Nous intervenons dans des environnements industriels exigeants avec des standards élevés de fabrication et d'installation, garantissant la conformité aux normes internationales et la pérennité des installations.</p>
    `,
    image: "/images/projects/infrastructures-industrielles.jpeg",
    gallery: [
      "/images/projects/infrastructures-industrielles.jpeg",
      "/images/gallery/14.jpg",
      "/images/gallery/21.jpg",
      "/images/gallery/20.jpg"
    ],
    features: [
      "Intégration multi-métiers : mécanique, électricité, process",
      "Expertise en environnements ATEX et conditions sévères",
      "Fabrication certifiée ISO 9001, EN 1090, ASME",
      "Solutions d'optimisation énergétique",
      "Respect strict des plannings industriels",
    ],
    technicalSpecs: {
      "Structures max": "500 tonnes",
      "Certifications": "ISO 9001, EN 1090, ASME",
      "Environnements": "ATEX, Marines, Chimiques",
      "Portée": "Clé en main"
    },
    client: "OCP, ONEE, Industriels privés",
    location: "Maroc & Export",
    year: "1985-présent",
    duration: "12-36 mois",
    status: "Multi-projets actifs"
  },
  {
    id: "energie-renouvelable",
    title: "Énergie Renouvelable",
    category: "Énergie",
    description: `
      <p>MACOBATE s'engage dans la transition énergétique en développant des projets d'énergies renouvelables adaptés aux besoins spécifiques des clients. Notre expertise technique nous permet d'intégrer des solutions énergétiques durables dans des projets industriels et d'infrastructure.</p>
      
      <h3>Nos domaines d'intervention comprennent :</h3>
      <ul>
        <li><strong>Systèmes de pompage solaire</strong> autonomes et hybrides</li>
        <li><strong>Stations d'énergie hybrides</strong> (solaire-diesel) pour sites isolés</li>
        <li><strong>Équipements pour petites centrales hydroélectriques</strong></li>
        <li><strong>Solutions d'efficacité énergétique</strong> pour installations industrielles</li>
      </ul>
      
      <h3>Projets représentatifs :</h3>
      <ol>
        <li><strong>Station de pompage solaire Taroudant</strong> : Installation de pompes alimentées par énergie solaire pour irrigation, capacité 50 kWc</li>
        <li><strong>Système hybride pour station de traitement d'eau Dakhla</strong> : Intégration de 100 kWc solaire avec backup diesel</li>
        <li><strong>Micro-centrale hydroélectrique Ifrane</strong> : Équipements hydromécaniques pour valorisation énergétique</li>
        <li><strong>Projet d'électrification rurale Tafilalet</strong> : Systèmes autonomes pour villages isolés</li>
      </ol>
      
      <p>Notre approche vise à maximiser l'autonomie énergétique de nos clients tout en réduisant leur empreinte carbone. Nous concevons des systèmes robustes, adaptés aux conditions locales et faciles à maintenir, avec un focus particulier sur le transfert de compétences aux équipes d'exploitation.</p>
    `,
    image: "/images/projects/energie-renouvelable.jpg",
    gallery: [
      "/images/projects/energie-renouvelable.jpg",
      "/images/gallery/21.jpg",
      "/images/gallery/20.jpg",
      "/images/gallery/19.jpg"
    ],
    features: [
      "Solutions énergétiques sur mesure",
      "Intégration optimisée dans les processus existants",
      "Systèmes de monitoring et d'optimisation de production",
      "Approche coût total de possession (TCO)",
      "Expertise en sites isolés et conditions climatiques difficiles",
    ],
    technicalSpecs: {
      "Puissance installée": "200 MW",
      "Réduction CO2": "240 000 tonnes/an",
      "Efficacité": "> 95%",
      "Technologies": "Solaire, Hydroélectrique"
    },
    client: "ONEE, MASEN, Collectivités, Secteur privé",
    location: "Maroc & Afrique subsaharienne",
    year: "2010-présent",
    duration: "18-42 mois",
    status: "Expansion continue"
  },
  {
    id: "projets-export-afrique",
    title: "Projets Export & Afrique",
    category: "International",
    description: `
      <p>MACOBATE exporte son savoir-faire marocain à travers l'Afrique, apportant des solutions adaptées aux défis spécifiques du continent. Notre expertise multidisciplinaire nous permet de réaliser des projets complets dans des environnements complexes et des zones reculées.</p>
      
      <h3>Notre offre export comprend :</h3>
      <ul>
        <li><strong>Stations de traitement d'eau mobiles</strong> MWS adaptées aux contextes africains</li>
        <li><strong>Équipements hydromécaniques</strong> pour barrages et ouvrages hydrauliques</li>
        <li><strong>Solutions énergétiques autonomes</strong> pour zones non connectées</li>
        <li><strong>Infrastructures industrielles</strong> et équipements de process</li>
      </ul>
      
      <h3>Projets emblématiques :</h3>
      <ol>
        <li><strong>Station de traitement d'eau Bamako (Mali)</strong> : Fourniture et installation de stations modulaires MWS pour eau potable</li>
        <li><strong>Équipements hydromécaniques - Barrage de Kandadji (Niger)</strong> : Vannes et dispositifs de contrôle</li>
        <li><strong>Unités de dessalement Mauritanie</strong> : Solutions de traitement d'eau pour zones côtières</li>
        <li><strong>Systèmes de pompage solaire Sénégal</strong> : Installations pour villages ruraux</li>
      </ol>
      
      <p>Notre approche africaine se distingue par l'adaptation aux réalités locales : conception robuste pour environnements difficiles, facilité de maintenance, formation approfondie des équipes locales et service après-vente réactif. Nous contribuons activement au transfert de technologie et au développement de compétences locales.</p>
    `,
    image: "/images/projects/station-eau-kabala-mali.jpg",
    gallery: [
      "/images/projects/station-eau-kabala-mali.jpg",
      "/images/gallery/19.jpg",
      "/images/gallery/20.jpg",
      "/images/gallery/21.jpg"
    ],
    features: [
      "Solutions adaptées aux contextes africains",
      "Équipes d'intervention mobiles pour toute l'Afrique",
      "Formation approfondie des opérateurs locaux",
      "Logistique internationale maîtrisée",
      "Respect des standards internationaux en contexte local",
    ],
    technicalSpecs: {
      "Pays couverts": "15 pays",
      "Projets actifs": "25+",
      "Équipes locales": "100+ formées",
      "Standards": "Internationaux adaptés"
    },
    client: "Gouvernements africains, Agences de développement, Entreprises locales",
    location: "Afrique de l'Ouest et Centrale",
    year: "2000-présent",
    duration: "Variable",
    status: "Expansion active"
  },
  {
    id: "equipements-maritimes",
    title: "Équipements Maritimes",
    category: "Maritime",
    description: `
      <p>MACOBATE conçoit et fabrique des équipements spécialisés pour les infrastructures portuaires et maritimes. Notre expertise dans le travail des métaux en environnement marin nous permet de fournir des solutions durables adaptées aux conditions côtières exigeantes.</p>
      
      <h3>Notre gamme de produits comprend :</h3>
      <ul>
        <li><strong>Structures métalliques portuaires</strong> et supports d'équipements</li>
        <li><strong>Conduites sous-marines et émissaires</strong> en acier protégé</li>
        <li><strong>Vannes et équipements hydrauliques maritimes</strong></li>
        <li><strong>Systèmes de dessalement pour zones côtières</strong></li>
      </ul>
      
      <h3>Projets significatifs :</h3>
      <ol>
        <li><strong>Port de Casablanca</strong> : Fabrication et installation de structures métalliques spéciales</li>
        <li><strong>Émissaire marin Tanger</strong> : Conduites et équipements de protection</li>
        <li><strong>Système de prise d'eau de mer Jorf Lasfar</strong> : Équipements hydromécaniques et structures</li>
        <li><strong>Terminal portuaire Nador West Med</strong> : Composants métalliques spécialisés</li>
      </ol>
      
      <p>Nos équipements maritimes sont conçus avec une attention particulière à la résistance à la corrosion, utilisant des matériaux adaptés (acier inoxydable duplex, revêtements spéciaux) et des techniques de protection cathodique avancées. Nous assurons une durabilité exceptionnelle même dans les environnements les plus agressifs.</p>
    `,
    image: "/images/projects/equipements-maritimes.jpg",
    gallery: [
      "/images/projects/equipements-maritimes.jpg",
      "/images/gallery/14.jpg",
      "/images/gallery/19.jpg",
      "/images/gallery/20.jpg"
    ],
    features: [
      "Expertise en corrosion marine et protection",
      "Conception spécifique pour conditions côtières",
      "Utilisation d'aciers spéciaux et alliages résistants",
      "Certifications marines internationales",
      "Équipes spécialisées en interventions portuaires",
    ],
    technicalSpecs: {
      "Matériaux": "Duplex, Inox 316L, Alliages",
      "Protection": "Cathodique, Revêtements",
      "Certifications": "IMO, Class NK",
      "Durabilité": "25+ ans"
    },
    client: "ANP, Ministère de l'Équipement, Opérateurs portuaires",
    location: "Zones côtières du Maroc",
    year: "1995-présent",
    duration: "6-24 mois",
    status: "Projets récurrents"
  },
  {
    id: "industrie-process",
    title: "Industrie & Process",
    category: "Process",
    description: `
      <p>MACOBATE développe des solutions industrielles complètes incluant la conception et la réalisation d'équipements de process sur mesure. Notre expertise multidisciplinaire nous permet d'intervenir dans des secteurs variés nécessitant des équipements spécifiques et performants.</p>
      
      <h3>Notre offre industrielle comprend :</h3>
      <ul>
        <li><strong>Réacteurs et cuves de process</strong> en différents matériaux</li>
        <li><strong>Échangeurs thermiques</strong> et équipements de transfert de chaleur</li>
        <li><strong>Skids de process intégrés</strong> et unités modulaires</li>
        <li><strong>Systèmes de filtration et séparation</strong> industriels</li>
      </ul>
      
      <h3>Réalisations industrielles marquantes :</h3>
      <ol>
        <li><strong>Unité de traitement d'acide phosphorique OCP</strong> : Fabrication de réacteurs et échangeurs spéciaux</li>
        <li><strong>Skids de process pour industrie alimentaire Marrakech</strong> : Unités en acier inoxydable avec automatisation</li>
        <li><strong>Équipements pour industrie chimique Mohammedia</strong> : Fabrication d'appareils à pression et réacteurs</li>
        <li><strong>Systèmes de filtration industrielle Tanger</strong> : Unités complètes pour zone franche</li>
      </ol>
      
      <p>Notre force repose sur notre capacité à intégrer la conception process, la fabrication mécanique et l'automatisation dans des solutions industrielles clé en main. Nous garantissons le respect des normes sectorielles (pharmaceutique, alimentaire, chimique) et la traçabilité complète de nos fabrications.</p>
    `,
    image: "/images/projects/industrie-process.jpg",
    gallery: [
      "/images/projects/industrie-process.jpg",
      "/images/gallery/14.jpg",
      "/images/gallery/21.jpg",
      "/images/gallery/19.jpg"
    ],
    features: [
      "Maîtrise des procédés industriels complexes",
      "Capacité de fabrication locale d'équipements spéciaux",
      "Expertise en matériaux spécifiques (inox, duplex, alliages)",
      "Automatisation et contrôle-commande intégrés",
      "Documentation technique complète et validation de performance",
    ],
    technicalSpecs: {
      "Matériaux": "Inox, Duplex, Alliages spéciaux",
      "Pression max": "150 bar",
      "Température": "-40°C à +400°C",
      "Automatisation": "PLC, SCADA, IHM"
    },
    client: "Secteurs industriels diversifiés (chimie, agroalimentaire, mines)",
    location: "Maroc & International",
    year: "1985-présent",
    duration: "6-18 mois",
    status: "Portfolio diversifié"
  },
];

// Liste des ID des projets pour vérification
const projectIds = projects.map((project) => project.id);
---

<BaseLayout title="Nos Projets - MACOBATE">
  <Header />
  <main>
    <!-- Page Title -->
    <section class="page-title" style="background-image:url(/images/background/6.jpg)">
      <div class="auto-container">
        <ul class="page-breadcrumb" aria-label="Fil d'Ariane">
          <li><a href="/">Accueil</a></li>
          <li><a href="/projects/allProjects">Projets</a></li>
          <li>Nos Projets</li>
        </ul>
        <h1>Nos Projets</h1>
      </div>
    </section>

    <!-- Projects Detail Section -->
    <section class="projects-detail-section">
      <div class="auto-container">
        <div class="row clearfix">
          
          <!-- Sidebar Projects Menu -->
          <div class="sidebar-column col-lg-3 col-md-4 col-sm-12">
            <div class="inner-column">
              
              <!-- Projects Navigation -->
              <div class="projects-list fade-in">
                <h3>Tous nos projets</h3>
                <div class="separator"></div>
                <ul aria-label="Liste des projets">
                  {projects.map((project) => (
                    <li id={`menu-item-${project.id}`}>
                      <a
                        href={`#${project.id}`}
                        class="project-link"
                        data-project-id={project.id}
                      >
                        <span class="project-icon">
                          <i class="flaticon-engineering"></i>
                        </span>
                        <span class="project-text">{project.title}</span>
                        <span class="project-arrow">
                          <i class="flaticon-arrow-pointing-to-right"></i>
                        </span>
                      </a>
                    </li>
                  ))}
                </ul>
              </div>

              <!-- Project Stats -->
              <div class="sidebar-widget stats-widget fade-in">
                <h3 class="widget-title">Projets en chiffres</h3>
                <div class="separator"></div>
                <div class="stats-container">
                  <div class="stat-item">
                    <div class="stat-icon">
                      <i class="flaticon-factory"></i>
                    </div>
                    <div class="stat-content">
                      <div class="stat-number">200+</div>
                      <div class="stat-label">Projets réalisés</div>
                    </div>
                  </div>
                  <div class="stat-item">
                    <div class="stat-icon">
                      <i class="flaticon-globe"></i>
                    </div>
                    <div class="stat-content">
                      <div class="stat-number">15</div>
                      <div class="stat-label">Pays d'intervention</div>
                    </div>
                  </div>
                  <div class="stat-item">
                    <div class="stat-icon">
                      <i class="flaticon-award"></i>
                    </div>
                    <div class="stat-content">
                      <div class="stat-number">40+</div>
                      <div class="stat-label">Années d'expérience</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Help Box -->
              <div class="help-box fade-in">
                <div class="help-icon">
                  <i class="flaticon-engineering"></i>
                </div>
                <h4>Votre projet nous intéresse</h4>
                <p>Notre équipe commerciale est à votre disposition pour étudier votre projet et vous proposer une solution sur mesure.</p>
                <a href="#" class="theme-btn btn-style-one" data-toggle="modal" data-target="#schedule-box">
                  Demander un devis
                  <span class="icon flaticon-arrow-pointing-to-right"></span>
                </a>
              </div>

            </div>
          </div>

          <!-- Project Content Column -->
          <div class="content-column col-lg-9 col-md-8 col-sm-12">
            <div class="inner-column">
              
              {projects.map((project, index) => (
                <div id={project.id} class="project-detail fade-in">
                  
                  <!-- Project Header -->
                  <div class="project-header">
                    <div class="category-badge">{project.category}</div>
                    <h2 class="project-title">{project.title}</h2>
                    
                    <div class="project-meta-grid">
                      <div class="meta-item">
                        <div class="meta-icon">
                          <i class="flaticon-user"></i>
                        </div>
                        <div class="meta-content">
                          <span class="label">Client</span>
                          <span class="value">{project.client}</span>
                        </div>
                      </div>
                      
                      <div class="meta-item">
                        <div class="meta-icon">
                          <i class="flaticon-location"></i>
                        </div>
                        <div class="meta-content">
                          <span class="label">Localisation</span>
                          <span class="value">{project.location}</span>
                        </div>
                      </div>
                      
                      <div class="meta-item">
                        <div class="meta-icon">
                          <i class="flaticon-calendar"></i>
                        </div>
                        <div class="meta-content">
                          <span class="label">Période</span>
                          <span class="value">{project.year}</span>
                        </div>
                      </div>
                      
                      <div class="meta-item">
                        <div class="meta-icon">
                          <i class="flaticon-clock"></i>
                        </div>
                        <div class="meta-content">
                          <span class="label">Durée</span>
                          <span class="value">{project.duration}</span>
                        </div>
                      </div>
                      
                      <div class="meta-item">
                        <div class="meta-icon">
                          <i class="flaticon-check"></i>
                        </div>
                        <div class="meta-content">
                          <span class="label">Statut</span>
                          <span class="value status-active">{project.status}</span>
                        </div>
                      </div>
                    </div>
                    
                    <div class="separator"></div>
                  </div>

                  <!-- Project Image with Gallery -->
                  <div class="project-image-section">
                    <div class="main-image">
                      <img
                        data-src={project.image}
                        alt={`Illustration du projet ${project.title}`}
                        class="img-fluid lazy-image"
                        loading="lazy"
                      />
                      <div class="image-overlay">
                        <button class="gallery-btn" data-project-id={project.id}>
                          <i class="flaticon-gallery"></i>
                          <span>Voir la galerie</span>
                        </button>
                      </div>
                    </div>
                    
                    {project.gallery && project.gallery.length > 1 && (
                      <div class="image-gallery" id={`gallery-${project.id}`} style="display: none;">
                        <div class="gallery-header">
                          <h4>Galerie du projet</h4>
                          <button class="close-gallery" data-project-id={project.id}>
                            <i class="fa fa-times"></i>
                          </button>
                        </div>
                        <div class="gallery-grid">
                          {project.gallery.map((image, imgIndex) => (
                            <div class="gallery-item">
                              <img
                                data-src={image}
                                alt={`${project.title} - Image ${imgIndex + 1}`}
                                class="lazy-image"
                                loading="lazy"
                              />
                            </div>
                          ))}
                        </div>
                      </div>
                    )}
                  </div>

                  <!-- Project Content -->
                  <div class="project-content">
                    <div class="text-content" set:html={project.description} />
                  </div>

                  <!-- Technical Specifications -->
                  {project.technicalSpecs && (
                    <div class="technical-specs-box">
                      <h3>Spécifications techniques</h3>
                      <div class="specs-grid">
                        {Object.entries(project.technicalSpecs).map(([key, value]) => (
                          <div class="spec-item">
                            <div class="spec-label">{key}</div>
                            <div class="spec-value">{value}</div>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}

                  <!-- Features Box -->
                  <div class="features-box">
                    <h3>Points forts du projet</h3>
                    <div class="features-grid">
                      {project.features.map((feature, featureIndex) => (
                        <div class="feature-item fade-in" style={`animation-delay: ${featureIndex * 0.1}s`}>
                          <div class="feature-icon">
                            <i class="flaticon-tick"></i>
                          </div>
                          <div class="feature-content">
                            <span class="feature-text">{feature}</span>
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>

                  <!-- Project Actions -->
                  <div class="project-actions">
                    <div class="actions-content">
                      <div class="action-text">
                        <h4>Intéressé par un projet similaire ?</h4>
                        <p>Contactez-nous pour discuter de votre projet et obtenir un devis personnalisé.</p>
                      </div>
                      <div class="action-buttons">
                        <a href="#" class="theme-btn btn-style-one" data-toggle="modal" data-target="#schedule-box">
                          Demander un devis
                          <span class="icon flaticon-arrow-pointing-to-right"></span>
                        </a>
                        <a href="/contact" class="theme-btn btn-style-two">
                          Nous contacter
                          <span class="icon flaticon-phone-call"></span>
                        </a>
                      </div>
                    </div>
                  </div>

                </div>
              ))}

            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- Related Projects Section -->
    <section class="related-projects-section">
      <div class="auto-container">
        <div class="sec-title centered">
          <h2>Projets connexes</h2>
          <div class="separator"></div>
          <div class="text">
            Découvrez d'autres réalisations MACOBATE dans des domaines complémentaires
          </div>
        </div>
        
        <div class="related-projects-carousel">
          {projects.slice(0, 4).map((project, index) => (
            <div class="related-project-item fade-in" style={`animation-delay: ${index * 0.1}s`}>
              <div class="project-card">
                <div class="card-image">
                  <img
                    data-src={project.image}
                    alt={project.title}
                    class="lazy-image"
                    loading="lazy"
                  />
                  <div class="card-overlay">
                    <a href={`#${project.id}`} class="view-project-btn">
                      <i class="flaticon-arrow-pointing-to-right"></i>
                    </a>
                  </div>
                </div>
                <div class="card-content">
                  <div class="card-category">{project.category}</div>
                  <h4><a href={`#${project.id}`}>{project.title}</a></h4>
                  <div class="card-meta">
                    <span class="location">{project.location}</span>
                    <span class="year">{project.year}</span>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Quote Form Modal -->
    <div class="modal fade" id="schedule-box" tabindex="-1" role="dialog">
      <div class="modal-dialog popup-container container" role="document">
        <div class="modal-content">
          <div class="appoinment_form_wrapper clear_fix">
            <button type="button" class="close" data-dismiss="modal" aria-label="Fermer">
              <i class="fa fa-times" aria-hidden="true"></i>
            </button>
            <div class="get-quote-form" style="background-image:url(/images/background/13.jpg)">
              <div class="inner-box">
                <div class="sec-title">
                  <div class="clearfix">
                    <div class="pull-left">
                      <h2>Demander un Devis</h2>
                      <div class="separator centered"></div>
                    </div>
                    <div class="pull-left">
                      <div class="text">
                        Obtenez un devis gratuit pour vos projets industriels ou d'ingénierie. Nous sommes disponibles 24h/7j.
                      </div>
                    </div>
                  </div>
                </div>

                <div class="quote-form style-two">
                  <form method="post" action="/api/contact">
                    <div class="row clearfix">
                      <div class="form-group col-md-6 col-sm-6 col-xs-12">
                        <input type="text" name="name" placeholder="Votre Nom" required />
                      </div>
                      <div class="form-group col-md-6 col-sm-6 col-xs-12">
                        <input type="text" name="company" placeholder="Nom de l'Entreprise" required />
                      </div>
                      <div class="form-group col-md-6 col-sm-6 col-xs-12">
                        <input type="text" name="phone" placeholder="Téléphone" required />
                      </div>
                      <div class="form-group col-md-6 col-sm-6 col-xs-12">
                        <select class="custom-select-box" name="service">
                          <option>Sélectionnez le Service Souhaité</option>
                          <option>Charpente Métallique</option>
                          <option>Appareils à pression</option>
                          <option>Réservoirs de Stockage</option>
                          <option>Équipements Hydromécaniques</option>
                          <option>Projets Clé en Main</option>
                          <option>Traitement de l'eau</option>
                          <option>Électricité & Automatismes</option>
                        </select>
                      </div>
                      <div class="form-group col-md-12 col-sm-12 col-xs-12">
                        <textarea name="message" placeholder="Votre Message..."></textarea>
                      </div>
                      <div class="form-group col-md-12 col-sm-12 col-xs-12">
                        <button class="theme-btn btn-style-one" type="submit" name="submit-form">
                          Envoyer 
                          <span class="icon flaticon-arrow-pointing-to-right"></span>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <CallToActionSection />
    <AppointmentForm />
  </main>
  <Footer />
</BaseLayout>

<style>
  html {
    scroll-behavior: smooth;
  }

  /* Projects Detail Section */
  .projects-detail-section {
    padding: 80px 0;
    background-color: #f8f9fa;
  }

  /* Sidebar Styles */
  .projects-list {
    background-color: white;
    border-radius: 12px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08);
    padding: 30px;
    margin-bottom: 30px;
    transition: all 0.3s ease;
  }

  .projects-list:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
  }

  .projects-list h3 {
    font-size: 22px;
    font-weight: 600;
    margin-bottom: 15px;
    color: #333;
  }

  .projects-list ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .projects-list ul li {
    margin-bottom: 8px;
    transition: all 0.3s ease;
  }

  .projects-list ul li:last-child {
    margin-bottom: 0;
  }

  .projects-list ul li a {
    display: flex;
    align-items: center;
    padding: 12px 15px;
    color: #666;
    font-size: 14px;
    font-weight: 500;
    text-decoration: none;
    border-radius: 8px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .projects-list ul li a:before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 0;
    height: 100%;
    background: linear-gradient(135deg, #1720d7, rgba(23, 32, 215, 0.1));
    transition: width 0.3s ease;
    z-index: 0;
  }

  .projects-list ul li a:hover:before,
  .projects-list ul li a.active:before {
    width: 100%;
  }

  .projects-list ul li a > * {
    position: relative;
    z-index: 1;
  }

  .project-icon {
    margin-right: 12px;
    font-size: 16px;
    color: #1720d7;
  }

  .project-text {
    flex-grow: 1;
    transition: color 0.3s ease;
  }

  .project-arrow {
    opacity: 0;
    transform: translateX(-10px);
    transition: all 0.3s ease;
    color: #1720d7;
  }

  .projects-list ul li a:hover,
  .projects-list ul li a.active {
    color: #fff;
    transform: translateX(5px);
  }

  .projects-list ul li a:hover .project-arrow,
  .projects-list ul li a.active .project-arrow {
    opacity: 1;
    transform: translateX(0);
  }

  /* Sidebar Widgets */
  .sidebar-widget {
    background-color: white;
    border-radius: 12px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08);
    padding: 30px;
    margin-bottom: 30px;
    transition: all 0.3s ease;
  }

  .sidebar-widget:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
  }

  .widget-title {
    font-size: 20px;
    font-weight: 600;
    color: #333;
    margin-bottom: 15px;
  }

  /* Stats Widget */
  .stats-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .stat-item {
    display: flex;
    align-items: center;
    padding: 20px;
    background: linear-gradient(135deg, #f8f9fa 0%, #fff 100%);
    border-radius: 10px;
    border-left: 4px solid #1720d7;
    transition: all 0.3s ease;
  }

  .stat-item:hover {
    transform: translateX(5px);
    box-shadow: 0 5px 15px rgba(23, 32, 215, 0.1);
  }

  .stat-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #1720d7, #0d1aa3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 15px;
    color: #fff;
    font-size: 20px;
  }

  .stat-content {
    flex-grow: 1;
  }

  .stat-number {
    font-size: 24px;
    font-weight: 700;
    color: #1720d7;
    margin-bottom: 5px;
  }

  .stat-label {
    font-size: 13px;
    color: #666;
    font-weight: 500;
  }

  /* Help Box */
  .help-box {
    background: linear-gradient(135deg, #1720d7 0%, #0d1aa3 100%);
    color: white;
    border-radius: 12px;
    padding: 30px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .help-box:before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
    animation: float 6s ease-in-out infinite;
  }

  .help-icon {
    width: 60px;
    height: 60px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
    font-size: 24px;
    color: #fff;
  }

  .help-box h4 {
    font-size: 20px;
    margin-bottom: 15px;
    color: white;
  }

  .help-box p {
    margin-bottom: 25px;
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
  }

  .help-box .theme-btn {
    background-color: white;
    color: #1720d7;
    border: 2px solid white;
  }

  .help-box .theme-btn:hover {
    background-color: transparent;
    color: white;
  }

  /* Project Detail Content */
  .project-detail {
    background-color: white;
    border-radius: 12px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08);
    padding: 40px;
    margin-bottom: 40px;
    display: none;
    transition: all 0.3s ease;
  }

  .project-detail.active {
    display: block;
  }

  /* Project Header */
  .project-header {
    margin-bottom: 40px;
  }

  .category-badge {
    display: inline-block;
    background: linear-gradient(135deg, #1720d7, #0d1aa3);
    color: #fff;
    padding: 8px 20px;
    border-radius: 25px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    margin-bottom: 20px;
    letter-spacing: 0.5px;
  }

  .project-title {
    font-size: 32px;
    font-weight: 700;
    color: #333;
    margin-bottom: 25px;
    line-height: 1.3;
  }

  .project-meta-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 25px;
  }

  .meta-item {
    display: flex;
    align-items: center;
    padding: 15px;
    background-color: #f8f9fa;
    border-radius: 10px;
    transition: all 0.3s ease;
  }

  .meta-item:hover {
    background-color: #e9ecef;
    transform: translateY(-2px);
  }

  .meta-icon {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #1720d7, #0d1aa3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 12px;
    color: #fff;
    font-size: 14px;
  }

  .meta-content {
    display: flex;
    flex-direction: column;
  }

  .meta-content .label {
    font-size: 12px;
    color: #999;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .meta-content .value {
    font-size: 14px;
    color: #333;
    font-weight: 600;
    margin-top: 2px;
  }

  .status-active {
    color: #28a745 !important;
  }

  /* Project Image Section */
  .project-image-section {
    margin-bottom: 40px;
  }

  .main-image {
    position: relative;
    border-radius: 12px;
    overflow: hidden;
    aspect-ratio: 16 / 9;
    background-color: #f0f0f0;
  }

  .main-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: all 0.3s ease;
  }

  .main-image:hover .image-overlay {
    opacity: 1;
  }

  .main-image:hover img {
    transform: scale(1.05);
  }

  .gallery-btn {
    background: rgba(255, 255, 255, 0.9);
    color: #1720d7;
    border: none;
    padding: 15px 25px;
    border-radius: 25px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .gallery-btn:hover {
    background: #1720d7;
    color: #fff;
    transform: scale(1.05);
  }

  /* Image Gallery */
  .image-gallery {
    margin-top: 20px;
    background: #fff;
    border-radius: 12px;
    padding: 25px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  }

  .gallery-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid #e9ecef;
  }

  .gallery-header h4 {
    color: #333;
    font-weight: 600;
    margin: 0;
  }

  .close-gallery {
    background: none;
    border: none;
    color: #999;
    font-size: 18px;
    cursor: pointer;
    padding: 5px;
    border-radius: 50%;
    transition: all 0.3s ease;
  }

  .close-gallery:hover {
    background: #f8f9fa;
    color: #1720d7;
  }

  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
  }

  .gallery-item {
    aspect-ratio: 4 / 3;
    border-radius: 8px;
    overflow: hidden;
    background-color: #f0f0f0;
    cursor: pointer;
    transition: transform 0.3s ease;
  }

  .gallery-item:hover {
    transform: scale(1.05);
  }

  .gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* Project Content */
  .project-content {
    margin-bottom: 40px;
  }

  .text-content {
    color: #555;
    line-height: 1.8;
    font-size: 16px;
  }

  .text-content h3 {
    font-size: 22px;
    font-weight: 600;
    color: #333;
    margin: 30px 0 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #1720d7;
    display: inline-block;
  }

  .text-content p {
    margin-bottom: 20px;
  }

  .text-content ul,
  .text-content ol {
    margin-bottom: 25px;
    padding-left: 20px;
  }

  .text-content li {
    margin-bottom: 12px;
    position: relative;
  }

  .text-content ul li:before {
    content: "→";
    color: #1720d7;
    font-weight: bold;
    position: absolute;
    left: -20px;
  }

  .text-content strong {
    color: #333;
    font-weight: 600;
  }

  /* Technical Specifications */
  .technical-specs-box {
    background: linear-gradient(135deg, #f8f9fa 0%, #fff 100%);
    border-radius: 12px;
    padding: 30px;
    margin-bottom: 35px;
    border-left: 4px solid #1720d7;
  }

  .technical-specs-box h3 {
    font-size: 20px;
    font-weight: 600;
    color: #333;
    margin-bottom: 25px;
    display: flex;
    align-items: center;
  }

  .technical-specs-box h3:before {
    content: "⚙️";
    margin-right: 10px;
    font-size: 24px;
  }

  .specs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
  }

  .spec-item {
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
  }

  .spec-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
  }

  .spec-label {
    font-size: 12px;
    color: #999;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 8px;
  }

  .spec-value {
    font-size: 16px;
    color: #1720d7;
    font-weight: 600;
  }

  /* Features Box */
  .features-box {
    background: linear-gradient(135deg, #f8f9fa 0%, #fff 100%);
    border-radius: 12px;
    padding: 35px;
    margin-bottom: 40px;
    border: 1px solid #e9ecef;
  }

  .features-box h3 {
    font-size: 22px;
    font-weight: 600;
    color: #333;
    margin-bottom: 30px;
    text-align: center;
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
  }

  .feature-item {
    display: flex;
    align-items: center;
    padding: 20px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
    border-left: 4px solid transparent;
  }

  .feature-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    border-left-color: #1720d7;
  }

  .feature-icon {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #1720d7, #0d1aa3);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 15px;
    color: #fff;
    font-size: 18px;
    flex-shrink: 0;
  }

  .feature-content {
    flex-grow: 1;
  }

  .feature-text {
    font-size: 15px;
    color: #333;
    font-weight: 500;
    line-height: 1.5;
  }

  /* Project Actions */
  .project-actions {
    background: linear-gradient(135deg, #1720d7 0%, #0d1aa3 100%);
    border-radius: 12px;
    padding: 40px;
    text-align: center;
    color: white;
    position: relative;
    overflow: hidden;
  }

  .project-actions:before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
    animation: float 6s ease-in-out infinite;
  }

  .actions-content {
    position: relative;
    z-index: 1;
  }

  .action-text h4 {
    font-size: 24px;
    margin-bottom: 15px;
    color: white;
  }

  .action-text p {
    font-size: 16px;
    margin-bottom: 30px;
    color: rgba(255, 255, 255, 0.9);
  }

  .action-buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
  }

  .project-actions .theme-btn {
    padding: 15px 30px;
    font-weight: 600;
  }

  .theme-btn.btn-style-two {
    background-color: transparent;
    border: 2px solid white;
    color: white;
  }

  .theme-btn.btn-style-two:hover {
    background-color: white;
    color: #1720d7;
  }

  /* Related Projects Section */
  .related-projects-section {
    padding: 80px 0;
    background-color: #fff;
  }

  .related-projects-carousel {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 30px;
    margin-top: 50px;
  }

  .related-project-item {
    transition: all 0.3s ease;
  }

  .project-card {
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
  }

  .project-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
  }

  .card-image {
    position: relative;
    aspect-ratio: 16 / 10;
    overflow: hidden;
  }

  .card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .card-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(23, 32, 215, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: all 0.3s ease;
  }

  .project-card:hover .card-overlay {
    opacity: 1;
  }

  .project-card:hover .card-image img {
    transform: scale(1.1);
  }

  .view-project-btn {
    width: 60px;
    height: 60px;
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .view-project-btn:hover {
    background: white;
    color: #1720d7;
    transform: scale(1.1);
  }

  .card-content {
    padding: 25px;
  }

  .card-category {
    font-size: 12px;
    color: #1720d7;
    font-weight: 600;
    text-transform: uppercase;
    margin-bottom: 10px;
  }

  .card-content h4 {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 15px;
    line-height: 1.4;
  }

  .card-content h4 a {
    color: #333;
    text-decoration: none;
    transition: color 0.3s ease;
  }

  .card-content h4 a:hover {
    color: #1720d7;
  }

  .card-meta {
    display: flex;
    justify-content: space-between;
    font-size: 13px;
    color: #666;
  }

  /* Lazy Loading & Images */
  .lazy-image {
    opacity: 0;
    transition: opacity 0.6s ease;
  }

  .lazy-image.loaded {
    opacity: 1;
  }

  .lazy-image.loading {
    background-color: #f0f0f0;
    background-image: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent
    );
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
  }

  @keyframes loading {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  /* Animation Classes */
  .fade-in {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }

  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Float Animation */
  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  /* Responsive Design */
  @media only screen and (max-width: 1199px) {
    .project-meta-grid {
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    }

    .features-grid {
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
  }

  @media only screen and (max-width: 991px) {
    .projects-detail-section {
      padding: 60px 0;
    }

    .project-detail {
      padding: 30px;
    }

    .project-title {
      font-size: 28px;
    }

    .project-meta-grid {
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 15px;
    }

    .features-grid {
      grid-template-columns: 1fr;
    }

    .action-buttons {
      flex-direction: column;
      align-items: center;
    }

    .related-projects-carousel {
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }

    .stats-container {
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
    }
  }

  @media only screen and (max-width: 767px) {
    .sidebar-widget {
      padding: 20px;
    }

    .project-detail {
      padding: 20px;
    }

    .project-title {
      font-size: 24px;
    }

    .project-meta-grid {
      grid-template-columns: 1fr;
    }

    .specs-grid {
      grid-template-columns: 1fr;
    }

    .gallery-grid {
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 10px;
    }

    .action-text h4 {
      font-size: 20px;
    }

    .related-projects-carousel {
      grid-template-columns: 1fr;
    }

    .stats-container {
      grid-template-columns: 1fr;
    }

    .stat-item {
      padding: 15px;
    }
  }

  @media only screen and (max-width: 480px) {
    .project-actions {
      padding: 25px;
    }

    .features-box {
      padding: 20px;
    }

    .technical-specs-box {
      padding: 20px;
    }

    .feature-item {
      padding: 15px;
    }

    .spec-item {
      padding: 15px;
    }

    .project-actions .theme-btn {
      padding: 12px 20px;
      font-size: 14px;
    }
  }
</style>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function() {
    
    // Lazy Loading avec IntersectionObserver
    if ('IntersectionObserver' in window) {
      const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const img = entry.target;
            
            // Ajouter classe de chargement
            img.classList.add('loading');
            
            // Créer une nouvelle image pour le préchargement
            const newImg = new Image();
            newImg.onload = function() {
              img.src = this.src;
              img.classList.remove('loading');
              img.classList.add('loaded');
              observer.unobserve(img);
            };
            
            newImg.onerror = function() {
              img.classList.remove('loading');
              img.src = '/images/placeholder.jpg'; // Image de fallback
              observer.unobserve(img);
            };
            
            // Démarrer le chargement
            newImg.src = img.dataset.src;
          }
        });
      }, {
        rootMargin: '50px 0px',
        threshold: 0.01
      });

      // Observer toutes les images lazy
      document.querySelectorAll('.lazy-image').forEach(img => {
        imageObserver.observe(img);
      });
    } else {
      // Fallback pour les navigateurs sans IntersectionObserver
      document.querySelectorAll('.lazy-image').forEach(img => {
        img.src = img.dataset.src;
        img.classList.add('loaded');
      });
    }

    // Animations au scroll avec IntersectionObserver
    const animationObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    });

    // Observer tous les éléments avec la classe fade-in
    document.querySelectorAll('.fade-in').forEach(el => {
      animationObserver.observe(el);
    });

    // Navigation des projets
    const links = document.querySelectorAll('.project-link');
    const sections = document.querySelectorAll('.project-detail');

    // Fonction pour afficher un projet spécifique
    function showProject(id) {
      // Vérifier si l'ID existe
      const targetElement = document.getElementById(id);
      if (!targetElement) {
        console.warn(`Projet avec l'ID ${id} non trouvé`);
        // Afficher le premier projet par défaut si l'ID demandé n'existe pas
        if (sections.length > 0) {
          const defaultId = sections[0].id;
          showProject(defaultId);
        }
        return;
      }

      // Cacher tous les projets
      sections.forEach((section) => {
        section.classList.remove('active');
        section.style.display = 'none';
      });

      // Afficher le projet demandé avec animation
      targetElement.classList.add('active');
      targetElement.style.display = 'block';
      
      // Trigger fade-in animation
      setTimeout(() => {
        targetElement.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }, 100);

      // Mettre à jour l'état actif des liens
      links.forEach((link) => {
        link.classList.remove('active');
        const linkId = link.getAttribute('data-project-id');
        if (linkId === id) {
          link.classList.add('active');
        }
      });

      // Mise à jour de l'URL sans recharger la page
      history.pushState(null, '', `#${id}`);
    }

    // Ajouter les écouteurs d'événements aux liens
    links.forEach((link) => {
      link.addEventListener('click', function (e) {
        e.preventDefault();
        const id = this.getAttribute('data-project-id');
        showProject(id);
      });
    });

    // Gérer les changements de hash dans l'URL
    window.addEventListener('hashchange', function () {
      const hash = window.location.hash.substring(1);
      if (hash) {
        showProject(hash);
      }
    });

    // Initialisation: afficher le projet correspondant au hash ou le premier projet
    const hash = window.location.hash.substring(1);
    if (hash) {
      showProject(hash);
    } else if (sections.length > 0) {
      showProject(sections[0].id);
    }

    // Gestion des galeries d'images
    const galleryBtns = document.querySelectorAll('.gallery-btn');
    const closeGalleryBtns = document.querySelectorAll('.close-gallery');

    galleryBtns.forEach(btn => {
      btn.addEventListener('click', function() {
        const projectId = this.getAttribute('data-project-id');
        const gallery = document.getElementById(`gallery-${projectId}`);
        if (gallery) {
          gallery.style.display = 'block';
          
          // Animation d'ouverture
          gallery.style.opacity = '0';
          gallery.style.transform = 'translateY(20px)';
          
          setTimeout(() => {
            gallery.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
            gallery.style.opacity = '1';
            gallery.style.transform = 'translateY(0)';
          }, 10);
        }
      });
    });

    closeGalleryBtns.forEach(btn => {
      btn.addEventListener('click', function() {
        const projectId = this.getAttribute('data-project-id');
        const gallery = document.getElementById(`gallery-${projectId}`);
        if (gallery) {
          gallery.style.opacity = '0';
          gallery.style.transform = 'translateY(20px)';
          
          setTimeout(() => {
            gallery.style.display = 'none';
          }, 300);
        }
      });
    });

    // Animation séquentielle pour les stats
    const statNumbers = document.querySelectorAll('.stat-number');
    const animateStats = () => {
      statNumbers.forEach((stat, index) => {
        const finalValue = parseInt(stat.textContent);
        const increment = finalValue / 50;
        let current = 0;
        
        const timer = setInterval(() => {
          current += increment;
          if (current >= finalValue) {
            stat.textContent = finalValue + (stat.textContent.includes('+') ? '+' : '');
            clearInterval(timer);
          } else {
            stat.textContent = Math.floor(current) + (stat.textContent.includes('+') ? '+' : '');
          }
        }, 30 + (index * 10));
      });
    };

    // Observer pour les stats
    const statsObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          setTimeout(animateStats, 300);
          statsObserver.unobserve(entry.target);
        }
      });
    });

    const statsWidget = document.querySelector('.stats-widget');
    if (statsWidget) {
      statsObserver.observe(statsWidget);
    }

    // Enhanced hover effects
    const cards = document.querySelectorAll('.project-card, .sidebar-widget, .project-detail');
    cards.forEach(card => {
      card.addEventListener('mouseenter', function() {
        this.style.transition = 'transform 0.3s ease, box-shadow 0.3s ease';
      });
    });

    // Smooth scroll pour les liens internes
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const href = this.getAttribute('href');
        if (href !== '#') {
          const target = document.querySelector(href);
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        }
      });
    });

    // Performance optimization: Debounce scroll events
    let scrollTimeout;
    window.addEventListener('scroll', function() {
      if (scrollTimeout) {
        clearTimeout(scrollTimeout);
      }
      scrollTimeout = setTimeout(() => {
        // Actions supplémentaires si nécessaire
      }, 10);
    });

    // Preload critical images
    const criticalImages = document.querySelectorAll('.main-image img[data-src]');
    criticalImages.forEach(img => {
      const newImg = new Image();
      newImg.onload = function() {
        img.src = this.src;
        img.classList.add('loaded');
      };
      newImg.src = img.dataset.src;
    });

    // Gestion du focus pour l'accessibilité
    document.addEventListener('keydown', function(e) {  
      if (e.key === 'Escape') {
        // Fermer les galeries ouvertes
        document.querySelectorAll('.image-gallery[style*="block"]').forEach(gallery => {
          gallery.style.display = 'none';
        });
      }
    });

    // Amélioration de l'accessibilité pour les boutons de galerie
    galleryBtns.forEach(btn => {
      btn.setAttribute('aria-label', 'Ouvrir la galerie d\'images');
      btn.setAttribute('role', 'button');
    });

    closeGalleryBtns.forEach(btn => {
      btn.setAttribute('aria-label', 'Fermer la galerie d\'images');
      btn.setAttribute('role', 'button');
    });

    console.log('Projects detail page initialized successfully');
  });
</script>